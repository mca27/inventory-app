<div class="card">
  <div class="card-header">
    <div class="row">
      <div class="col-md-10">
        <h3 class="text-left">{{ isUpdate ? "Update" : "Add" }} Product</h3>
      </div>
      <div class="col-md-2">
        <i class="fa fa-close fa-2x action pull-right" (click)="close()"></i>
      </div>
    </div>
  </div>
  <div class="card-body">
    <div class="row" *ngIf="showError">
      <div class="col-md-12 alert alert-danger">
        {{ errorMessage }}
      </div>
    </div>
    <div class="row" *ngIf="successMesssage">
      <div class="col-md-12 alert alert-success">
        {{ successMesssage }}
      </div>
    </div>
    <form name="product" #cf="ngForm">
      <div class="row">
        <div class="col-md-12">
          <div class="form-group">
            <label for="product_name">Product name</label>
            <input
              type="text"
              id="product_name"
              name="product_name"
              class="form-control"
              [(ngModel)]="product.product_name"
              #product_name="ngModel"
              required
            />
            <div
              *ngIf="
                product_name.invalid &&
                (product_name.dirty || product_name.touched)
              "
            >
              <div
                *ngIf="product_name.errors?.['required']"
                class="text-danger"
              >
                Product name is required.
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-12">
          <div class="form-group">
            <label for="product_category">Product category</label>
            <select
              name="product_category"
              id="product_category"
              placeholder="Select a product category"
              class="form-control"
              [(ngModel)]="product.product_category"
              #product_category="ngModel"
            >
              <option
                *ngFor="let category of categories"
                [value]="category.key"
              >
                {{ category.value }}
              </option>
            </select>
            <div
              *ngIf="
                product_category.invalid &&
                (product_category.dirty || product_category.touched)
              "
            >
              <div
                *ngIf="product_category.errors?.['required']"
                class="text-danger"
              >
                Product category is required.
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-12">
          <div class="form-group">
            <label for="product_description">Product description</label>
            <textarea
              type="text"
              name="product_description"
              id="product_description"
              class="form-control"
              [(ngModel)]="product.product_description"
              #product_description="ngModel"
              required
            ></textarea>
            <div
              *ngIf="
                product_description.invalid &&
                (product_description.dirty || product_description.touched)
              "
            >
              <div
                *ngIf="product_description.errors?.['required']"
                class="text-danger"
              >
                Product description is required.
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-12">
          <div class="form-group">
            <label for="units">Units</label>
            <input
              type="number"
              name="units"
              id="units"
              class="form-control"
              [(ngModel)]="product.units"
              #units="ngModel"
              required
            />
            <div *ngIf="units.invalid && (units.dirty || units.touched)">
              <div *ngIf="units.errors?.['required']" class="text-danger">
                Units are required.
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
  <div class="card-footer">
    <div class="row">
      <div class="col-md-6">
        <button
          [disabled]="cf.invalid"
          type="submit"
          class="btn btn-outline-success pull-right"
          (click)="saveProduct(cf)"
        >
          {{ isUpdate ? "Update" : "Add" }} Product
        </button>
      </div>
      <div class="col-md-6">
        <button
          type="button"
          class="btn btn-outline-secondary pull-left"
          (click)="close()"
        >
          Cancel
        </button>
      </div>
    </div>
  </div>
</div>
